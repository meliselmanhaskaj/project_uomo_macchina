@inject IHtmlLocalizer<Progetto.Web.SharedResource> SharedLocalizer
@inject Microsoft.Extensions.Options.IOptions<AppSettings> appSettings
@{
    Layout = "_LayoutHtml";
    var version = System.Reflection.Assembly.GetAssembly(typeof(Startup)).GetName().Version;

    var identitaCorrente = (Progetto.Web.Areas.IdentitaViewModel)ViewData[Progetto.Web.Areas.IdentitaViewModel.VIEWDATA_IDENTITACORRENTE_KEY];
}
@section metas{
    @RenderSection("metas", false)
}
@section styles{
    @RenderSection("styles", false)
}
<div id="pageId" class="onit-page">
    @RenderSection("pageTitle", false)
    @RenderSection("pageSubtitle", false)
    @RenderBody()
</div>
@section googlehead{
    @*<script async src="https://www.googletagmanager.com/gtag/js?id=UA-"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-', { 'anonymize_ip': true });    // Ricordarsi di anonimizzare per fare ricadere il cookie tra quelli tecnici ed evitare l'obbligo del banner
    </script>*@
    }
@section scripts{
    <script type="text/javascript">
        @this.RenderAlertsWithToastify()

        // Rileva quando la pagina viene caricata dalla cache (pulsante indietro)
        window.addEventListener('pageshow', function(event) {
            if (event.persisted) {
                // La pagina ï¿½ stata caricata dalla back/forward cache
                window.location.href = '/';
            }
        });

        // Impedisce il caching della pagina
        window.addEventListener('beforeunload', function() {
            window.scrollTo(0, 0);
        });
    </script>

    @RenderSection("scripts", false)
}
